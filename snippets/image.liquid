{%- doc -%}
  Renders a responsive <img> element using Shopify image_tag

  @param {object} image - image object
  @param {number} [height] - optional HTML height attribute
  @param {string} [class] - additional classes
  @param {string} [text_fallback] - text to display if image is blank
  @param {boolean} [unset_image_tag] - if true, ignores the image focal point
  @param {string} [style] - additional styles

  @example
  {% render 'image', image: product.featured_image, class: 'product-image' %}
{%- enddoc -%}

{% if image != blank %}
  {% assign style_value = style | default: '' %}

  {% if unset_image_tag %}
    {% assign style_value = style_value | append: 'object-position: inherit;' %}
  {% endif %}

  {{
    image
    | image_url: width: 1800
    | image_tag:
      class: class,
      style: style_value,
      height: height,
      widths: '360, 540, 720, 960, 1200',
      sizes: '(min-width: 1200px) 800px, (min-width: 750px) 600px, 100vw'
  }}

{% elsif text_fallback %}
  {{ text_fallback }}
{% endif %}
